apply plugin: 'war'

war {
    archiveName 'app.war'
    manifest {
     attributes("Implementation-Title": project.name, "Implementation-Version": project.version, "Implementation-Timestamp": new Date())
    }
}

repositories {
    mavenCentral()
}

dependencies {
    // This dependency is found on compile classpath of this component and consumers.
    implementation 'com.google.guava:guava:27.0.1-jre'
    implementation 'log4j:log4j:1.2.17'
    implementation 'commons-io:commons-io:2.6'
    // Use JUnit test framework
    testImplementation 'junit:junit:4.12'
}

task incVersion {
  doLast {
      def majorVer, minorVer, patchVer
      majorVer = project.property('version')[0..0]
      minorVer = project.property('version')[2..2]
      patchVer = project.property('version')[4..4]
      patchVer++
      println 'This will increase version'
      println majorVer+'.'+minorVer+'.'+patchVer

      //def pw = new File('textfile.txt').newPrintWriter()
      //pw.println("new line")
  }
}
